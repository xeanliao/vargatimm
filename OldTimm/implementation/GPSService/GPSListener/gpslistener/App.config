<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="System.Configuration.IgnoreSectionHandler" />
  </configSections>
	<system.web>
		<compilation debug="true" />
	</system.web>

	<system.serviceModel>
		<bindings>
			<basicHttpBinding>
				<binding name="BasicHttpBinding_IGTUUpdateService" closeTimeout="00:01:00"
					openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
					allowCookies="false" bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
					maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
					messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
					useDefaultWebProxy="true">
					<readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
						maxBytesPerRead="4096" maxNameTableCharCount="16384" />
					<security mode="None">
						<transport clientCredentialType="None" proxyCredentialType="None"
							realm="" />
						<message clientCredentialType="UserName" algorithmSuite="Default" />
					</security>
				</binding>
			</basicHttpBinding>
		</bindings>
		<client>
			<endpoint address="http://localhost:8900/GTUService/GTUUpdate/"
				binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_IGTUUpdateService"
				contract="IGTUUpdateService" name="BasicHttpBinding_IGTUUpdateService" />
		</client>
	</system.serviceModel>	
  <system.diagnostics>
		<switches>
			<!-- This switch controls data messages. In order to receive data 
         trace messages, change value="0" to value="1" -->
			<add name="DataMessagesSwitch" value="0" />
			<!-- This switch controls general messages. In order to 
         receive general trace messages change the value to the 
         appropriate level. "1" gives error messages, "2" gives errors 
         and warnings, "3" gives more detailed error information, and 
         "4" gives verbose trace information -->
			<add name="TraceLevelSwitch" value="2" />
		</switches>
		<trace autoflush="true" indentsize="3" >
			<listeners>
				<add name="myListener" traceOutputOptions="DateTime"
				type="System.Diagnostics.TextWriterTraceListener"
				initializeData="GPSMonitor.log"/>
			</listeners>

		</trace>
	</system.diagnostics>

  <log4net>
    <root>
      <level value="error" />
      <appender-ref ref="ColoredConsoleAppender" />
      <appender-ref ref="LogFileAppender" />
    </root>
    <!--<logger name="GPSListener.TIMM.GTUPacket">
      <level value="debug" />
      <appender-ref ref="LogFileAppender" />
    </logger>-->
    <appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
      <mapping>
        <level value="INFO" />
        <foreColor value="White, HighIntensity" />
        <backColor value="Green" />
      </mapping>
      <mapping>
        <level value="DEBUG" />
        <foreColor value="White, HighIntensity" />
        <backColor value="Blue" />
      </mapping>
      <mapping>
        <level value="WARN" />
        <foreColor value="Yellow, HighIntensity" />
        <backColor value="Purple" />
      </mapping>
      <mapping>
        <level value="ERROR" />
        <foreColor value="Yellow, HighIntensity" />
        <backColor value="Red" />
      </mapping>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message%newline" />
      </layout>
    </appender>
    <appender name="LogFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="logs\\" />
      <param name="AppendToFile" value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="-1" />
      <maximumFileSize value="10MB" />
      <rollingStyle value="Date" />
      <DatePattern value="yyyy-MM-dd&quot;.log&quot;" />
      <staticLogFileName value="false" />
      <layout type="log4net.Layout.PatternLayout,log4net">
        <param name="Header" value="&#xD;&#xA;----------------------header--------------------------&#xD;&#xA;" />
        <param name="ConversionPattern" value="%d [%t] %-5p %c - %m%n" />
        <param name="Footer" value="&#xD;&#xA;----------------------footer--------------------------&#xD;&#xA;" />
      </layout>
    </appender>
  </log4net>
</configuration>
